<!DOCTYPE html><!--XDaiPjrDHgA4q5tAtFB8o--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/2ff57a8dc1dd022b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/08ea9ccded85ea26.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-08309892bbe354a2.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-69097a61540f27b4.js" async=""></script><script src="/_next/static/chunks/main-app-b0c2b1956eab1d69.js" async=""></script><script src="/_next/static/chunks/app/layout-e2df609ea3d3ba96.js" async=""></script><script src="/_next/static/chunks/244-75f77586f1edfee3.js" async=""></script><script src="/_next/static/chunks/105-6376b4bf520053bc.js" async=""></script><script src="/_next/static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js" async=""></script><meta name="next-size-adjust" content=""/><title>dj-stripe - Stripe Made Easy for Django Developers</title><meta name="description" content="The easiest way to integrate Stripe with your Django project. Handle payments, subscriptions, and webhooks with just a few lines of code."/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-white dark:bg-gray-900"><header class="border-b border-gray-200 dark:border-gray-800 sticky top-0 bg-white dark:bg-gray-900 z-10"><nav class="container mx-auto px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><a class="text-2xl font-bold z-50" href="/">dj-<span class="text-stripe-blurple">stripe</span></a><div class="hidden lg:flex gap-6 items-center"><a class="hover:text-blue-600 transition-colors" href="/about/">About</a><a class="text-blue-600 font-semibold" href="/docs/latest/">Documentation</a><a class="hover:text-blue-600 transition-colors" href="/sponsors/">Sponsors</a><a class="hover:text-blue-600 transition-colors" href="/team/">Team</a><a class="hover:text-blue-600 transition-colors" href="/support/">Support</a><a href="https://github.com/dj-stripe/dj-stripe" class="flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300" target="_blank" rel="noopener noreferrer"><i class="fab fa-github text-lg sm:text-xl"></i><div class="hidden sm:flex flex-col"><span class="text-sm font-medium">dj-stripe</span><div class="flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400"><span>Loading...</span></div></div></a><select class="px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800"><option value="dev" selected="">vdev</option></select><div class="relative"><button class="flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><span>Search</span><kbd class="hidden sm:inline-block px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 rounded">âŒ˜K</kbd></button></div><button class="group relative p-2.5 rounded-full hover:bg-gray-100/80 dark:hover:bg-gray-800/80 transition-all duration-200 hover:scale-105 active:scale-95" aria-label="Switch to dark mode"><div class="absolute inset-0 rounded-full bg-gradient-to-br from-yellow-200/20 to-orange-300/20 dark:from-purple-400/20 dark:to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div><div class="relative transition-all duration-300 "><div class="relative w-5 h-5"><svg class="w-full h-full text-amber-500 transition-all duration-300 drop-shadow-sm" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" class="animate-pulse"></circle><g class="animate-spin" style="transform-origin:12px 12px;animation-duration:8s"><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></g></svg></div></div><div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 text-xs text-white bg-gray-900 dark:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">Switch to <!-- -->dark<!-- --> mode</div></button></div><button class="lg:hidden p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors z-50" aria-label="Toggle mobile menu"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></nav></header><div class="container mx-auto px-6 py-8"><div class="flex gap-8"><aside class="w-64 flex-shrink-0"><nav class="sticky top-24"><h3 class="font-semibold mb-4">Documentation</h3><ul class="space-y-2"><li><a class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors " href="/docs/dev/">Getting Started</a><ul class="ml-4 mt-2 space-y-1"><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/installation/">Installation</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/api_keys/">API Keys</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/api_versions/">API Versions</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/upgrade_dj_stripe/">Upgrade Guide</a></li></ul></li><li><a class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors " href="/docs/dev/usage/">Usage</a><ul class="ml-4 mt-2 space-y-1"><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/webhooks/">Webhooks</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/subscribing_customers/">Subscribing Customers</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/add_payment_method_to_customer/">Payment Methods</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/managing_subscriptions/">Managing Subscriptions</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/using_stripe_checkout/">Stripe Checkout</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/manually_syncing_with_stripe/">Manual Syncing</a></li></ul></li><li><a class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors " href="/docs/dev/changes/">Changelog</a><ul class="ml-4 mt-2 space-y-1"><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_10_0/">Version 2.10</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_9_0/">Version 2.9</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_8_0/">Version 2.8</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_7_0/">Version 2.7</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_6_0/">Version 2.6</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_5_0/">Version 2.5</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/changes/2_4_0/">Version 2.4</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors bg-blue-50 dark:bg-blue-900/20 text-blue-600" href="/docs/dev/changes/2_x/">Older Versions</a></li></ul></li></ul></nav></aside><main class="flex-1 max-w-4xl"><article class="prose prose-lg max-w-none"><h1>dj-stripe 2.0 ~ 2.3 release notes</h1>
<h2>2.3.0 (2020-04-19)</h2>
<ul>
<li>The minimum version of Django is now 2.1, and Python 3.6.</li>
<li>Changed <code>JSONField</code> dependency back to
<a href="https://github.com/rpkilby/jsonfield/">jsonfield</a> from
<a href="https://github.com/rpkilby/jsonfield2/">jsonfield2</a> (see <a href="#warning-about-safe-uninstall-of-jsonfield2-on-upgrade">Warning
about safe uninstall of jsonfield2 on
upgrade</a>).</li>
<li>Fixed handling of <code>TaxRate</code> events (#1094).</li>
<li>Fixed pagination issue in <code>Invoice.sync_from_stripe_data</code> (#1052).</li>
<li>Fixed pagination issues in <code>Subscription</code> &amp; <code>Charge</code>
<code>.sync_from_stripe_data</code> (#1054).</li>
<li>Tidyup <code>_stripe_object_set_total_tax_amounts</code> unique handling (#1139).</li>
<li>Dropped previously-deprecated <code>Invoice</code> fields (see <a href="https://stripe.com/docs/upgrades#2018-11-08">https://stripe.com/docs/upgrades#2018-11-08</a>):<!-- -->
<ul>
<li><code>.closed</code></li>
<li><code>.forgiven</code></li>
<li><code>.billing</code> (renamed to <code>.collection_method</code>)</li>
</ul>
</li>
<li>Dropped previously-deprecated <code>enums.InvoiceStatus</code> (#1020).</li>
<li>Deprecated the following fields - will be removed in 2.4 (#1087):<!-- -->
<ul>
<li><code>Subscription.billing</code> (use <code>.collection_method</code> instead)</li>
<li><code>Subscription.start</code> (use <code>.start_date</code> instead)</li>
<li><code>Subscription.tax_percent</code> (use <code>.default_tax_rates</code> instead)</li>
</ul>
</li>
<li>Added <code>Invoice.status</code> and <code>enums.InvoiceStatus</code> (#1020).</li>
<li>Added new <code>Invoice</code> fields (#1020, #1087):<!-- -->
<ul>
<li><code>.discount</code></li>
<li><code>.default_source</code></li>
<li><code>.status</code></li>
</ul>
</li>
<li>Added new <code>Subscription</code> fields (#1087):<!-- -->
<ul>
<li><code>.default_payment_method</code></li>
<li><code>.default_source</code></li>
<li><code>.next_pending_invoice_item_invoice</code></li>
<li><code>.pending_invoice_item_interval</code></li>
<li><code>.pending_update</code></li>
<li><code>.start_date</code></li>
</ul>
</li>
</ul>
<h3>Warning about safe uninstall of jsonfield2 on upgrade</h3>
<p>Both <strong>jsonfield</strong> and <strong>jsonfield2</strong> use the same import path, so if
upgrading from dj-stripe~=2.2.0 in an existing virtualenv, be sure to
uninstall jsonfield2 first. eg:</p>
<pre><code class="hljs language-bash">
    <span class="hljs-comment"># ensure jsonfield is uninstalled before we install jsonfield2</span>
    pip uninstall jsonfield2 -y &amp;&amp; pip install <span class="hljs-string">&quot;dj-stripe&gt;=2.3.0dev&quot;</span>
</code></pre>
<p>Otherwise, <code>pip uninstall jsonfield2</code> will remove jsonfield&#x27;s
<code>jsonfield</code> module from <code>site-packages</code>, which would cause errors like
<code>ImportError: cannot import name &#x27;JSONField&#x27; from &#x27;jsonfield&#x27; (unknown location)</code></p>
<p>If you have hit this ImportError already after upgrading, running this
should resolve it:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># remove both jsonfield packages before reinstall to fix ImportError:</span>
pip uninstall jsonfield jsonfield2 -y &amp;&amp; pip install <span class="hljs-string">&quot;dj-stripe&gt;=2.3.0&quot;</span>
</code></pre>
<p>Note that this is only necessary if upgrading from dj-stripe 2.2.x,
which temporarily depended on jsonfield2. This process is not necessary
if upgrading from an earlier version of dj-stripe.</p>
<h2>2.2.2 (2020-01-20)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Fixed handling of <code>TaxRate</code> events (#1094).</li>
</ul>
<h2>2.2.1 (2020-01-14)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Fixed bad package build.</li>
</ul>
<h2>2.2.0 (2020-01-13)</h2>
<ul>
<li>Changed <code>JSONField</code> dependency package from
<a href="https://github.com/rpkilby/jsonfield/">jsonfield</a> to
<a href="https://github.com/rpkilby/jsonfield2/">jsonfield2</a>, for Django 3
compatibility (see <a href="#warning-about-safe-uninstall-of-jsonfield-on-upgrade">Warning about safe uninstall of jsonfield on
upgrade</a>).
Note that Django 2.1 requires jsonfield&lt;3.1.</li>
<li>Added support for Django 3.0 (requires jsonfield2&gt;=3.0.3).</li>
<li>Added support for python 3.8.</li>
<li>Refactored <code>UpcomingInvoice</code>, so it&#x27;s no longer a subclass of
<code>Invoice</code> (to allow <code>Invoice</code> to use <code>ManyToManyFields</code>).</li>
<li>Dropped previously-deprecated <code>Account</code> fields (see <a href="https://stripe.com/docs/upgrades#2019-02-19">https://stripe.com/docs/upgrades#2019-02-19</a>):<!-- -->
<ul>
<li><code>.business_name</code></li>
<li><code>.business_primary_color</code></li>
<li><code>.business_url</code> (changed to a property)</li>
<li><code>.debit_negative_balances</code></li>
<li><code>.decline_charge_on</code></li>
<li><code>.display_name</code></li>
<li><code>.legal_entity</code></li>
<li><code>.payout_schedule</code></li>
<li><code>.payout_statement_descriptor</code></li>
<li><code>.statement_descriptor</code></li>
<li><code>.support_email</code></li>
<li><code>.support_phone</code></li>
<li><code>.support_url</code></li>
<li><code>.timezone</code></li>
<li><code>.verification</code></li>
</ul>
</li>
<li>Dropped previously-deprecated <code>Account.business_logo</code> property
(renamed to <code>.branding_icon</code>)</li>
<li>Dropped previously-deprecated <code>Customer.account_balance</code> property
(renamed to <code>.balance</code>)</li>
<li>Dropped previously-deprecated properties <code>Invoice.application_fee</code>,
<code>Invoice.date</code></li>
<li>Dropped previously-deprecated enum <code>PaymentMethodType</code> (use
<code>DjstripePaymentMethodType</code> instead)</li>
<li>Renamed <code>Invoice.billing</code> to <code>.collection_method</code> (added deprecated
property for the old name).</li>
<li>Updated <code>Invoice</code> model to add missing fields.</li>
<li>Added <code>TaxRate</code> model, and <code>Invoice.default_tax_rates</code>,
<code>InvoiceItem.tax_rates</code>, <code>Invoice.total_tax_amounts</code>,
<code>Subscription.default_tax_rates</code>, <code>SubscriptionItem.tax_rates</code>
(#1027).</li>
<li>Change urls.py to use the new style urls.</li>
<li>Update forward relation fields in the admin to be raw id fields.</li>
<li>Updated <code>StripeQuantumCurrencyAmountField</code> and
<code>StripeDecimalCurrencyAmountField</code> to support Stripe Large Charges
(#1045).</li>
<li>Update event handling so <code>customer.subscription.deleted</code> updates
subscriptions to <code>status=&quot;canceled&quot;</code> instead of deleting it from our
database, to match Stripe&#x27;s behaviour (#599).</li>
<li>Added missing <code>Refund.reason</code> value, increases field width (#1075).</li>
<li>Fixed <code>Refund.status</code> definition, reduces field width (#1076).</li>
<li>Deprecated non-standard <code>Invoice.status</code> (renamed to
<code>Invoice.legacy_status</code>) to make way for the Stripe field
(preparation for #1020).</li>
</ul>
<h3>Warning about safe uninstall of jsonfield on upgrade</h3>
<p>Both <strong>jsonfield</strong> and <strong>jsonfield2</strong> use the same import path, so if
upgrading to dj-stripe&gt;=2.2 in an existing virtualenv, be sure to
uninstall jsonfield first. eg:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># ensure jsonfield is uninstalled before we install jsonfield2</span>
pip uninstall jsonfield -y &amp;&amp; pip install <span class="hljs-string">&quot;dj-stripe&gt;=2.2.0&quot;</span>
</code></pre>
<p>Otherwise, <code>pip uninstall jsonfield</code> will remove jsonfield2&#x27;s
<code>jsonfield</code> module from <code>site-packages</code>, which would cause errors like
<code>ImportError: cannot import name &#x27;JSONField&#x27; from &#x27;jsonfield&#x27; (unknown location)</code></p>
<p>If you have hit this ImportError already after upgrading, running this
should resolve it:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># remove both jsonfield packages before reinstall to fix ImportError:</span>
pip uninstall jsonfield jsonfield2 -y &amp;&amp; pip install <span class="hljs-string">&quot;dj-stripe&gt;=2.2.0&quot;</span>
</code></pre>
<h3>Note on usage of Stripe Elements JS</h3>
<p>See <a href="https://dj-stripe.dev/2.8/stripe_elements_js/">Integrating Stripe Elements</a>
for notes about usage of the Stripe Elements frontend JS library.</p>
<p>In summary: If you haven&#x27;t yet migrated to PaymentIntents, prefer
<code>stripe.createSource()</code> to <code>stripe.createToken()</code>.</p>
<h2>2.1.1 (2019-10-01)</h2>
<p>This is a bugfix-only release:</p>
<ul>
<li>Updated webhook signals list (#1000).</li>
<li>Fixed issue syncing PaymentIntent with destination charge (#960).</li>
<li>Fixed <code>Customer.subscription</code> and <code>.valid_subscriptions()</code> to ignore
<code>status=incomplete_expired</code> (#1006).</li>
<li>Fixed error on <code>paymentmethod.detached</code> event with <code>card_xxx</code>
payment methods (#967).</li>
<li>Added <code>PaymentMethod.detach()</code> (#943).</li>
<li>Updated <code>help_text</code> on all currency fields to make it clear if
they&#x27;re holding integer cents (<code>StripeQuantumCurrencyAmountField</code>)
or decimal dollar (or euro, pound etc)
(<code>StripeDecimalCurrencyAmountField</code>) (#999)</li>
<li>Documented our preferred Django model field types (#986)</li>
</ul>
<h3>Upcoming migration of currency fields (storage as cents instead of dollars)</h3>
<p>Please be aware that we&#x27;re looking at standardising our currency storage
fields as integer quanta (cents) instead of Decimal (dollar) values, to
match stripe.</p>
<p>This is intended to be part of the 3.0 release, since it will involve
some breaking changes. See #955 for details and discussion.</p>
<h2>2.1.0 (2019-09-12)</h2>
<ul>
<li>Dropped Django 2.0 support</li>
<li>The Python stripe library minimum version is now <code>2.32.0</code>, also
<code>2.36.0</code> is excluded due to a regression (#991).</li>
<li>Dropped previously-deprecated <code>Charge.fee_details</code> property.</li>
<li>Dropped previously-deprecated <code>Transfer.fee_details</code> property.</li>
<li>Dropped previously-deprecated <code>field_name</code> parameter to
<code>sync_from_stripe_data</code></li>
<li>Dropped previously-deprecated alias <code>StripeObject</code> of <code>StripeModel</code></li>
<li>Dropped previously-deprecated alias <code>PaymentMethod</code> of <code>DjstripePaymentMethod</code></li>
<li>Dropped previously-deprecated properties <code>Charge.source_type</code> and
<code>Charge.source_stripe_id</code></li>
<li><code>enums.PaymentMethodType</code> has been deprecated, use <code>enums.DjstripePaymentMethodType</code></li>
<li>Made <code>SubscriptionItem.quantity</code> nullable as per Plans with
<code>usage_type=&quot;metered&quot;</code> (follow-up to #865)</li>
<li>Added manage commands <code>djstripe_sync_models</code> and
<code>djstripe_process_events</code> (#727, #89)</li>
<li>Fixed issue with re-creating a customer after <code>Customer.purge()</code> (#916)</li>
<li>Fixed sync of Customer Bank Accounts (#829)</li>
<li>Fixed <code>Subscription.is_status_temporarily_current()</code> (#852)</li>
<li>New models<!-- -->
<ul>
<li>Payment Intent</li>
<li>Setup Intent</li>
<li>Payment Method</li>
<li>Session</li>
</ul>
</li>
<li>Added fields to <code>Customer</code> model: <code>address</code>, <code>invoice_prefix</code>,
<code>invoice_settings</code>, <code>phone</code>, <code>preferred_locales</code>, <code>tax_exempt</code></li>
</ul>
<p>Changes from API 2018-11-08:</p>
<ul>
<li>Added <code>Invoice.auto_advance</code>, deprecated <code>Invoice.closed</code> and
<code>Invoice.forgiven</code>, see
<a href="https://stripe.com/docs/billing/migration/invoice-states#upgrade-checklist">https://stripe.com/docs/billing/migration/invoice-states#upgrade-checklist</a></li>
</ul>
<p>Changes from API 2019-02-19:</p>
<ul>
<li>
<p>Major changes to Account fields, see
<a href="https://stripe.com/docs/upgrades#2019-02-19">https://stripe.com/docs/upgrades#2019-02-19</a>, updated Account
fields to match API 2019-02-19:</p>
</li>
<li>
<p>Added <code>Account.business_profile</code>, <code>.business_type</code>, <code>.company</code>,
<code>.individual</code>, <code>.requirements</code>, <code>.settings</code></p>
</li>
<li>
<p>Deprecated the existing fields, to be removed in 2.2</p>
</li>
<li>
<p>Special handling of the icon and logo fields:</p>
<blockquote>
<ul>
<li>Renamed <code>Account.business_logo</code> to <code>Account.branding_icon</code>
(note that in Stripe&#x27;s API <code>Account.business_logo</code> was renamed
to <code>Account.settings.branding_icon</code>, and
<code>Account.business_logo_large</code> (which we didn&#x27;t have a field
for) was renamed to <code>Account.settings.branding_logo</code>)</li>
<li>Added deprecated property for <code>Account.business_logo</code></li>
<li>Added <code>Account.branding_logo</code> as a ForeignKey</li>
<li>Populate <code>Account.branding_icon</code> and <code>.branding_logo</code> from the
new <code>Account.settings.branding.icon</code> and <code>.logo</code></li>
</ul>
</blockquote>
</li>
</ul>
<p>Changes from API 2019-03-14:</p>
<ul>
<li>Renamed <code>Invoice.application_fee</code> to
<code>Invoice.application_fee_amount</code> (added deprecated property for the
old name)</li>
<li>Removed <code>Invoice.date</code>, in place of <code>Invoice.created</code> (added
deprecated property for the old name)</li>
<li>Added <code>Invoice.status_transitions</code></li>
<li>Renamed <code>Customer.account_balance</code> to <code>Customer.balance</code> (added
deprecated property for the old name)</li>
<li>Renamed <code>Customer.payment_methods</code> to
<code>Customer.customer_payment_methods</code></li>
<li>Added new <code>SubscriptionStatus.incomplete</code> and
<code>SubscriptionStatus.incomplete_expired</code> statuses (#974)</li>
<li>Added new <code>BalanceTransactionType</code> values (#983)</li>
</ul>
<h3>Squashed dev migrations</h3>
<p>As per our <a href="../CONTRIBUTING.md#django_migration_policy">migration policy</a>, unreleased migrations on the master
branch have been squashed.</p>
<p>If you have been using the 2.1.0dev branch from master, you&#x27;ll need to
run the squashed migrations migrations before upgrading to &gt;=2.1.0.</p>
<p>The simplest way to do this is to <code>pip install dj-stripe==2.1.0rc0</code> and
migrate, alternatively check out the <code>2.1.0rc0</code> git tag.</p>
<h2>2.0.5 (2019-09-12)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Avoid stripe==2.36.0 due to regression (#991)</li>
</ul>
<h2>2.0.4 (2019-09-09)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Fixed irreversible migration (#909)</li>
</ul>
<h2>2.0.3 (2019-06-11)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>In <code>_get_or_create_from_stripe_object</code>, wrap create <code>_create_from_stripe_object</code> in
transaction, fixes <code>TransactionManagementError</code> on race condition in webhook
processing (#877, #903).</li>
</ul>
<h2>2.0.2 (2019-06-09)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Don&#x27;t save event objects if the webhook processing fails (#832).</li>
<li>Fixed IntegrityError when <code>REMOTE_ADDR</code> is an empty string.</li>
<li>Deprecated <code>field_name</code> parameter to <code>sync_from_stripe_data</code></li>
</ul>
<h2>2.0.1 (2019-04-29)</h2>
<p>This is a bugfix-only version:</p>
<ul>
<li>Fixed an error on <code>invoiceitem.updated</code> (#848).</li>
<li>Handle test webhook properly in recent versions of Stripe API
(#779). At some point 2018 Stripe silently changed the ID used for
test events and <code>evt_00000000000000</code> is not used anymore.</li>
<li>Fixed OperationalError seen in migration 0003 on postgres (#850).</li>
<li>Fixed issue with migration 0003 not being unapplied correctly (#882).</li>
<li>Fixed missing <code>SubscriptionItem.quantity</code> on metered Plans (#865).</li>
<li>Fixed <code>Plan.create()</code> (#870).</li>
</ul>
<h2>2.0.0 (2019-03-01)</h2>
<ul>
<li>The Python stripe library minimum version is now <code>2.3.0</code>.</li>
<li><code>PaymentMethod</code> has been renamed to <code>DjstripePaymentMethod</code> (#841). An alias remains
but will be removed in the next version.</li>
<li>Dropped support for Django&lt;2.0, Python&lt;3.4.</li>
<li>Dropped previously-deprecated <code>stripe_objects</code> module.</li>
<li>Dropped previously-deprecated <code>stripe_timestamp</code> field.</li>
<li>Dropped previously-deprecated <code>Charge.receipt_number</code> field.</li>
<li>Dropped previously-deprecated <code>StripeSource</code> alias for <code>Card</code></li>
<li>Dropped previously-deprecated <code>SubscriptionView</code>, <code>CancelSubscriptionView</code> and
<code>CancelSubscriptionForm</code>.</li>
<li>Removed the default value from <code>DJSTRIPE_SUBSCRIPTION_REDIRECT</code>.</li>
<li>All <code>stripe_id</code> fields have been renamed <code>id</code>.</li>
<li><code>Charge.source_type</code> has been deprecated. Use <code>Charge.source.type</code>.</li>
<li><code>Charge.source_stripe_id</code> has been deprecated. Use <code>Charge.source.id</code>.</li>
<li>All deprecated Transfer fields (Stripe API 2017-04-06 and older), have been dropped.
This includes <code>date</code>, <code>destination_type</code> (<code>type</code>), <code>failure_code</code>,
<code>failure_message</code>, <code>statement_descriptor</code> and <code>status</code>.</li>
<li>Fixed IntegrityError when <code>REMOTE_ADDR</code> is missing (#640).</li>
<li>New models:<!-- -->
<ul>
<li><code>ApplicationFee</code></li>
<li><code>ApplicationFeeRefund</code></li>
<li><code>BalanceTransaction</code></li>
<li><code>CountrySpec</code></li>
<li><code>ScheduledQuery</code></li>
<li><code>SubscriptionItem</code></li>
<li><code>TransferReversal</code></li>
<li><code>UsageRecord</code></li>
</ul>
</li>
<li>The <code>fee</code> and <code>fee_details</code> attributes of both the <code>Charge</code> and <code>Transfer</code> objects
are no longer stored in the database. Instead, they access their respective new
<code>balance_transaction</code> foreign key. Note that <code>fee_details</code> has been deprecated on
both models.</li>
<li>The <code>fraudulent</code> attribute on <code>Charge</code> is now a property that checks the
<code>fraud_details</code> field.</li>
<li>Object key validity is now always enforced (#503).</li>
<li><code>Customer.sources</code> no longer refers to a Card queryset, but to a Source queryset. In
order to correctly transition, you should change all your references to
<code>customer.sources</code> to <code>customer.legacy_cards</code> instead. The <code>legacy_cards</code> attribute
already exists in 1.2.0.</li>
<li><code>Customer.sources_v3</code> is now named <code>Customer.sources</code>.</li>
<li>A new property <code>Customer.payment_methods</code> is now available, which allows you to
iterate over all of a customer&#x27;s payment methods (sources then cards).</li>
<li><code>Card.customer</code> is now nullable and cards are no longer deleted when their
corresponding customer is deleted (#654).</li>
<li>Webhook signature verification is now available and is preferred. Set the
<code>DJSTRIPE_WEBHOOK_SECRET</code> setting to your secret to start using it.</li>
<li><code>StripeObject</code> has been renamed <code>StripeModel</code>. An alias remains but will be removed
in the next version.</li>
<li>The metadata key used in the <code>Customer</code> object can now be configured by changing the
<code>DJSTRIPE_SUBSCRIBER_CUSTOMER_KEY</code> setting. Setting this to None or an empty string
now also disables the behaviour altogether.</li>
<li>Text-type fields in dj-stripe will no longer ever be None. Instead, any falsy text
field will return an empty string.</li>
<li>Switched test runner to pytest-django</li>
<li><code>StripeModel.sync_from_stripe_data()</code> will now automatically retrieve related
objects and populate foreign keys (#681)</li>
<li>Added <code>Coupon.name</code></li>
<li>Added <code>Transfer.balance_transaction</code></li>
<li>Exceptions in webhooks are now re-raised as well as saved in the database (#833)</li>
</ul></article></main></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-08309892bbe354a2.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1483,[\"177\",\"static/chunks/app/layout-e2df609ea3d3ba96.js\"],\"ThemeProvider\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/2ff57a8dc1dd022b.css\",\"style\"]\n:HL[\"/_next/static/css/08ea9ccded85ea26.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"XDaiPjrDHgA4q5tAtFB8o\",\"p\":\"\",\"c\":[\"\",\"docs\",\"dev\",\"changes\",\"2_x\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"version\",\"dev\",\"d\"],{\"children\":[[\"slug\",\"changes/2_x\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2ff57a8dc1dd022b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/08ea9ccded85ea26.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"defaultTheme\":\"system\",\"storageKey\":\"dj-stripe-theme\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"version\",\"dev\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"changes/2_x\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"dj-stripe - Stripe Made Easy for Django Developers\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"The easiest way to integrate Stripe with your Django project. Handle payments, subscriptions, and webhooks with just a few lines of code.\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[6105,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-6376b4bf520053bc.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"Navigation\"]\n11:I[6690,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-6376b4bf520053bc.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"VersionSelector\"]\n12:I[6874,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-6376b4bf520053bc.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-white dark:bg-gray-900\",\"children\":[[\"$\",\"$L10\",null,{\"className\":\"sticky top-0 bg-white dark:bg-gray-900 z-10\",\"children\":[\"$\",\"$L11\",null,{\"currentVersion\":\"dev\",\"versions\":[\"dev\"],\"currentPath\":\"changes/2_x\"}]}],[\"$\",\"div\",null,{\"className\":\"container mx-auto px-6 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"w-64 flex-shrink-0\",\"children\":[\"$\",\"nav\",null,{\"className\":\"sticky top-24\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold mb-4\",\"children\":\"Documentation\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"li\",\"\",{\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/docs/dev\",\"className\":\"block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors \",\"children\":\"Getting Started\"}],[\"$\",\"ul\",null,{\"className\":\"ml-4 mt-2 space-y-1\",\"children\":[[\"$\",\"li\",\"/installation\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/installation\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Installation\"}]}],[\"$\",\"li\",\"/api_keys\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/api_keys\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"API Keys\"}]}],[\"$\",\"li\",\"/api_versions\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/api_versions\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"API Versions\"}]}],[\"$\",\"li\",\"/upgrade_dj_stripe\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/upgrade_dj_stripe\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Upgrade Guide\"}]}]]}]]}],[\"$\",\"li\",\"/usage\",{\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage\",\"className\":\"block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors \",\"children\":\"Usage\"}],[\"$\",\"ul\",null,{\"className\":\"ml-4 mt-2 space-y-1\",\"children\":[[\"$\",\"li\",\"/usage/webhooks\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/webhooks\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Webhooks\"}]}],[\"$\",\"li\",\"/usage/subscribing_customers\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/subscribing_customers\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Subscribing Customers\"}]}],[\"$\",\"li\",\"/usage/add_payment_method_to_customer\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/add_payment_method_to_customer\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Payment Methods\"}]}],[\"$\",\"li\",\"/usage/managing_subscriptions\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/managing_subscriptions\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Managing Subscriptions\"}]}],[\"$\",\"li\",\"/usage/using_stripe_checkout\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/using_stripe_checkout\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Stripe Checkout\"}]}],[\"$\",\"li\",\"/usage/manually_syncing_with_stripe\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/manually_syncing_with_stripe\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Manual Syncing\"}]}]]}]]}],[\"$\",\"li\",\"/changes\",{\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes\",\"className\":\"block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors \",\"children\":\"Changelog\"}],\"$L13\"]}]]}]]}]}],\"$L14\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"ul\",null,{\"className\":\"ml-4 mt-2 space-y-1\",\"children\":[[\"$\",\"li\",\"/changes/2_10_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_10_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.10\"}]}],[\"$\",\"li\",\"/changes/2_9_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_9_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.9\"}]}],[\"$\",\"li\",\"/changes/2_8_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_8_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.8\"}]}],[\"$\",\"li\",\"/changes/2_7_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_7_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.7\"}]}],[\"$\",\"li\",\"/changes/2_6_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_6_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.6\"}]}],[\"$\",\"li\",\"/changes/2_5_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_5_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.5\"}]}],[\"$\",\"li\",\"/changes/2_4_0\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_4_0\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Version 2.4\"}]}],[\"$\",\"li\",\"/changes/2_x\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/changes/2_x\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors bg-blue-50 dark:bg-blue-900/20 text-blue-600\",\"children\":\"Older Versions\"}]}]]}]\n"])</script><script>self.__next_f.push([1,"14:[\"$\",\"main\",null,{\"className\":\"flex-1 max-w-4xl\",\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-lg max-w-none\",\"children\":\"$L15\"}]}]\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"h1\",null,{\"children\":\"dj-stripe 2.0 ~ 2.3 release notes\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.3.0 (2020-04-19)\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"The minimum version of Django is now 2.1, and Python 3.6.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Changed \",[\"$\",\"code\",null,{\"children\":\"JSONField\"}],\" dependency back to\\n\",[\"$\",\"a\",null,{\"href\":\"https://github.com/rpkilby/jsonfield/\",\"children\":\"jsonfield\"}],\" from\\n\",[\"$\",\"a\",null,{\"href\":\"https://github.com/rpkilby/jsonfield2/\",\"children\":\"jsonfield2\"}],\" (see \",[\"$\",\"a\",null,{\"href\":\"#warning-about-safe-uninstall-of-jsonfield2-on-upgrade\",\"children\":\"Warning\\nabout safe uninstall of jsonfield2 on\\nupgrade\"}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed handling of \",[\"$\",\"code\",null,{\"children\":\"TaxRate\"}],\" events (#1094).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed pagination issue in \",[\"$\",\"code\",null,{\"children\":\"Invoice.sync_from_stripe_data\"}],\" (#1052).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed pagination issues in \",[\"$\",\"code\",null,{\"children\":\"Subscription\"}],\" \u0026 \",[\"$\",\"code\",null,{\"children\":\"Charge\"}],\"\\n\",[\"$\",\"code\",null,{\"children\":\".sync_from_stripe_data\"}],\" (#1054).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Tidyup \",[\"$\",\"code\",null,{\"children\":\"_stripe_object_set_total_tax_amounts\"}],\" unique handling (#1139).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Invoice\"}],\" fields (see \",[\"$\",\"a\",null,{\"href\":\"https://stripe.com/docs/upgrades#2018-11-08\",\"children\":\"https://stripe.com/docs/upgrades#2018-11-08\"}],\"):\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".closed\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".forgiven\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\".billing\"}],\" (renamed to \",[\"$\",\"code\",null,{\"children\":\".collection_method\"}],\")\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"enums.InvoiceStatus\"}],\" (#1020).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Deprecated the following fields - will be removed in 2.4 (#1087):\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Subscription.billing\"}],\" (use \",[\"$\",\"code\",null,{\"children\":\".collection_method\"}],\" instead)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Subscription.start\"}],\" (use \",[\"$\",\"code\",null,{\"children\":\".start_date\"}],\" instead)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Subscription.tax_percent\"}],\" (use \",[\"$\",\"code\",null,{\"children\":\".default_tax_rates\"}],\" instead)\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Invoice.status\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"enums.InvoiceStatus\"}],\" (#1020).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added new \",[\"$\",\"code\",null,{\"children\":\"Invoice\"}],\" fields (#1020, #1087):\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".discount\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".default_source\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".status\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added new \",[\"$\",\"code\",null,{\"children\":\"Subscription\"}],\" fields (#1087):\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".default_payment_method\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".default_source\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".next_pending_invoice_item_invoice\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".pending_invoice_item_interval\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".pending_update\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".start_date\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Warning about safe uninstall of jsonfield2 on upgrade\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Both \",[\"$\",\"strong\",null,{\"children\":\"jsonfield\"}],\" and \",[\"$\",\"strong\",null,{\"children\":\"jsonfield2\"}],\" use the same import path, so if\\nupgrading from dj-stripe~=2.2.0 in an existing virtualenv, be sure to\\nuninstall jsonfield2 first. eg:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# ensure jsonfield is uninstalled before we install jsonfield2\"}],\"\\n    pip uninstall jsonfield2 -y \u0026\u0026 pip install \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"dj-stripe\u003e=2.3.0dev\\\"\"}],\"\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Otherwise, \",\"$L16\",\" will remove jsonfield's\\n\",\"$L17\",\" module from \",\"$L18\",\", which would cause errors like\\n\",\"$L19\"]}],\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\"]\n"])</script><script>self.__next_f.push([1,"16:[\"$\",\"code\",null,{\"children\":\"pip uninstall jsonfield2\"}]\n17:[\"$\",\"code\",null,{\"children\":\"jsonfield\"}]\n18:[\"$\",\"code\",null,{\"children\":\"site-packages\"}]\n19:[\"$\",\"code\",null,{\"children\":\"ImportError: cannot import name 'JSONField' from 'jsonfield' (unknown location)\"}]\n1a:[\"$\",\"p\",null,{\"children\":\"If you have hit this ImportError already after upgrading, running this\\nshould resolve it:\"}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# remove both jsonfield packages before reinstall to fix ImportError:\"}],\"\\npip uninstall jsonfield jsonfield2 -y \u0026\u0026 pip install \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"dj-stripe\u003e=2.3.0\\\"\"}],\"\\n\"]}]}]\n1c:[\"$\",\"p\",null,{\"children\":\"Note that this is only necessary if upgrading from dj-stripe 2.2.x,\\nwhich temporarily depended on jsonfield2. This process is not necessary\\nif upgrading from an earlier version of dj-stripe.\"}]\n1d:[\"$\",\"h2\",null,{\"children\":\"2.2.2 (2020-01-20)\"}]\n1e:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n1f:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed handling of \",[\"$\",\"code\",null,{\"children\":\"TaxRate\"}],\" events (#1094).\"]}],\"\\n\"]}]\n20:[\"$\",\"h2\",null,{\"children\":\"2.2.1 (2020-01-14)\"}]\n21:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n22:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed bad package build.\"}],\"\\n\"]}]\n23:[\"$\",\"h2\",null,{\"children\":\"2.2.0 (2020-01-13)\"}]\n"])</script><script>self.__next_f.push([1,"24:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Changed \",[\"$\",\"code\",null,{\"children\":\"JSONField\"}],\" dependency package from\\n\",[\"$\",\"a\",null,{\"href\":\"https://github.com/rpkilby/jsonfield/\",\"children\":\"jsonfield\"}],\" to\\n\",[\"$\",\"a\",null,{\"href\":\"https://github.com/rpkilby/jsonfield2/\",\"children\":\"jsonfield2\"}],\", for Django 3\\ncompatibility (see \",[\"$\",\"a\",null,{\"href\":\"#warning-about-safe-uninstall-of-jsonfield-on-upgrade\",\"children\":\"Warning about safe uninstall of jsonfield on\\nupgrade\"}],\").\\nNote that Django 2.1 requires jsonfield\u003c3.1.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Added support for Django 3.0 (requires jsonfield2\u003e=3.0.3).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Added support for python 3.8.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Refactored \",[\"$\",\"code\",null,{\"children\":\"UpcomingInvoice\"}],\", so it's no longer a subclass of\\n\",[\"$\",\"code\",null,{\"children\":\"Invoice\"}],\" (to allow \",[\"$\",\"code\",null,{\"children\":\"Invoice\"}],\" to use \",[\"$\",\"code\",null,{\"children\":\"ManyToManyFields\"}],\").\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Account\"}],\" fields (see \",[\"$\",\"a\",null,{\"href\":\"https://stripe.com/docs/upgrades#2019-02-19\",\"children\":\"https://stripe.com/docs/upgrades#2019-02-19\"}],\"):\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".business_name\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".business_primary_color\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\".business_url\"}],\" (changed to a property)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".debit_negative_balances\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".decline_charge_on\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".display_name\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".legal_entity\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".payout_schedule\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".payout_statement_descriptor\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".statement_descriptor\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".support_email\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".support_phone\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".support_url\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".timezone\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\".verification\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Account.business_logo\"}],\" property\\n(renamed to \",[\"$\",\"code\",null,{\"children\":\".branding_icon\"}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Customer.account_balance\"}],\" property\\n(renamed to \",[\"$\",\"code\",null,{\"children\":\".balance\"}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated properties \",[\"$\",\"code\",null,{\"children\":\"Invoice.application_fee\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\"Invoice.date\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated enum \",[\"$\",\"code\",null,{\"children\":\"PaymentMethodType\"}],\" (use\\n\",[\"$\",\"code\",null,{\"children\":\"DjstripePaymentMethodType\"}],\" instead)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Renamed \",[\"$\",\"code\",null,{\"children\":\"Invoice.billing\"}],\" to \",[\"$\",\"code\",null,{\"children\":\".collection_method\"}],\" (added deprecated\\nproperty for the old name).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Updated \",[\"$\",\"code\",null,{\"children\":\"Invoice\"}],\" model to add missing fields.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"TaxRate\"}],\" model, and \",[\"$\",\"code\",null,{\"children\":\"Invoice.default_tax_rates\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\"InvoiceItem.tax_rates\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Invoice.total_tax_amounts\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\"Subscription.default_tax_rates\"}],\", \",[\"$\",\"code\",null,{\"children\":\"SubscriptionItem.tax_rates\"}],\"\\n(#1027).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Change urls.py to use the new style urls.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Update forward relation fields in the admin to be raw id fields.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Updated \",[\"$\",\"code\",null,{\"children\":\"StripeQuantumCurrencyAmountField\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"StripeDecimalCurrencyAmountField\"}],\" to support Stripe Large Charges\\n(#1045).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Update event handling so \",\"$L51\",\" updates\\nsubscriptions to \",\"$L52\",\" instead of deleting it from our\\ndatabase, to match Stripe's behaviour (#599).\"]}],\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"25:[\"$\",\"h3\",null,{\"children\":\"Warning about safe uninstall of jsonfield on upgrade\"}]\n26:[\"$\",\"p\",null,{\"children\":[\"Both \",[\"$\",\"strong\",null,{\"children\":\"jsonfield\"}],\" and \",[\"$\",\"strong\",null,{\"children\":\"jsonfield2\"}],\" use the same import path, so if\\nupgrading to dj-stripe\u003e=2.2 in an existing virtualenv, be sure to\\nuninstall jsonfield first. eg:\"]}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# ensure jsonfield is uninstalled before we install jsonfield2\"}],\"\\npip uninstall jsonfield -y \u0026\u0026 pip install \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"dj-stripe\u003e=2.2.0\\\"\"}],\"\\n\"]}]}]\n28:[\"$\",\"p\",null,{\"children\":[\"Otherwise, \",[\"$\",\"code\",null,{\"children\":\"pip uninstall jsonfield\"}],\" will remove jsonfield2's\\n\",[\"$\",\"code\",null,{\"children\":\"jsonfield\"}],\" module from \",[\"$\",\"code\",null,{\"children\":\"site-packages\"}],\", which would cause errors like\\n\",[\"$\",\"code\",null,{\"children\":\"ImportError: cannot import name 'JSONField' from 'jsonfield' (unknown location)\"}]]}]\n29:[\"$\",\"p\",null,{\"children\":\"If you have hit this ImportError already after upgrading, running this\\nshould resolve it:\"}]\n2a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# remove both jsonfield packages before reinstall to fix ImportError:\"}],\"\\npip uninstall jsonfield jsonfield2 -y \u0026\u0026 pip install \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"dj-stripe\u003e=2.2.0\\\"\"}],\"\\n\"]}]}]\n2b:[\"$\",\"h3\",null,{\"children\":\"Note on usage of Stripe Elements JS\"}]\n2c:[\"$\",\"p\",null,{\"children\":[\"See \",[\"$\",\"a\",null,{\"href\":\"https://dj-stripe.dev/2.8/stripe_elements_js/\",\"children\":\"Integrating Stripe Elements\"}],\"\\nfor notes about usage of the Stripe Elements frontend JS library.\"]}]\n2d:[\"$\",\"p\",null,{\"children\":[\"In summary: If you haven't yet migrated to PaymentIntents, prefer\\n\",[\"$\",\"code\",null,{\"children\":\"stripe.createSource()\"}],"])</script><script>self.__next_f.push([1,"\" to \",[\"$\",\"code\",null,{\"children\":\"stripe.createToken()\"}],\".\"]}]\n2e:[\"$\",\"h2\",null,{\"children\":\"2.1.1 (2019-10-01)\"}]\n2f:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only release:\"}]\n"])</script><script>self.__next_f.push([1,"30:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Updated webhook signals list (#1000).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed issue syncing PaymentIntent with destination charge (#960).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed \",[\"$\",\"code\",null,{\"children\":\"Customer.subscription\"}],\" and \",[\"$\",\"code\",null,{\"children\":\".valid_subscriptions()\"}],\" to ignore\\n\",[\"$\",\"code\",null,{\"children\":\"status=incomplete_expired\"}],\" (#1006).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed error on \",[\"$\",\"code\",null,{\"children\":\"paymentmethod.detached\"}],\" event with \",[\"$\",\"code\",null,{\"children\":\"card_xxx\"}],\"\\npayment methods (#967).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"PaymentMethod.detach()\"}],\" (#943).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Updated \",[\"$\",\"code\",null,{\"children\":\"help_text\"}],\" on all currency fields to make it clear if\\nthey're holding integer cents (\",[\"$\",\"code\",null,{\"children\":\"StripeQuantumCurrencyAmountField\"}],\")\\nor decimal dollar (or euro, pound etc)\\n(\",[\"$\",\"code\",null,{\"children\":\"StripeDecimalCurrencyAmountField\"}],\") (#999)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Documented our preferred Django model field types (#986)\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"31:[\"$\",\"h3\",null,{\"children\":\"Upcoming migration of currency fields (storage as cents instead of dollars)\"}]\n32:[\"$\",\"p\",null,{\"children\":\"Please be aware that we're looking at standardising our currency storage\\nfields as integer quanta (cents) instead of Decimal (dollar) values, to\\nmatch stripe.\"}]\n33:[\"$\",\"p\",null,{\"children\":\"This is intended to be part of the 3.0 release, since it will involve\\nsome breaking changes. See #955 for details and discussion.\"}]\n34:[\"$\",\"h2\",null,{\"children\":\"2.1.0 (2019-09-12)\"}]\n"])</script><script>self.__next_f.push([1,"35:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Dropped Django 2.0 support\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"The Python stripe library minimum version is now \",[\"$\",\"code\",null,{\"children\":\"2.32.0\"}],\", also\\n\",[\"$\",\"code\",null,{\"children\":\"2.36.0\"}],\" is excluded due to a regression (#991).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Charge.fee_details\"}],\" property.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Transfer.fee_details\"}],\" property.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"field_name\"}],\" parameter to\\n\",[\"$\",\"code\",null,{\"children\":\"sync_from_stripe_data\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated alias \",[\"$\",\"code\",null,{\"children\":\"StripeObject\"}],\" of \",[\"$\",\"code\",null,{\"children\":\"StripeModel\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated alias \",[\"$\",\"code\",null,{\"children\":\"PaymentMethod\"}],\" of \",[\"$\",\"code\",null,{\"children\":\"DjstripePaymentMethod\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated properties \",[\"$\",\"code\",null,{\"children\":\"Charge.source_type\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"Charge.source_stripe_id\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"enums.PaymentMethodType\"}],\" has been deprecated, use \",[\"$\",\"code\",null,{\"children\":\"enums.DjstripePaymentMethodType\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Made \",[\"$\",\"code\",null,{\"children\":\"SubscriptionItem.quantity\"}],\" nullable as per Plans with\\n\",[\"$\",\"code\",null,{\"children\":\"usage_type=\\\"metered\\\"\"}],\" (follow-up to #865)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added manage commands \",[\"$\",\"code\",null,{\"children\":\"djstripe_sync_models\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"djstripe_process_events\"}],\" (#727, #89)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed issue with re-creating a customer after \",[\"$\",\"code\",null,{\"children\":\"Customer.purge()\"}],\" (#916)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed sync of Customer Bank Accounts (#829)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed \",[\"$\",\"code\",null,{\"children\":\"Subscription.is_status_temporarily_current()\"}],\" (#852)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"New models\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Payment Intent\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Setup Intent\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Payment Method\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Session\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added fields to \",[\"$\",\"code\",null,{\"children\":\"Customer\"}],\" model: \",[\"$\",\"code\",null,{\"children\":\"address\"}],\", \",[\"$\",\"code\",null,{\"children\":\"invoice_prefix\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\"invoice_settings\"}],\", \",[\"$\",\"code\",null,{\"children\":\"phone\"}],\", \",[\"$\",\"code\",null,{\"children\":\"preferred_locales\"}],\", \",[\"$\",\"code\",null,{\"children\":\"tax_exempt\"}]]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"36:[\"$\",\"p\",null,{\"children\":\"Changes from API 2018-11-08:\"}]\n37:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Invoice.auto_advance\"}],\", deprecated \",[\"$\",\"code\",null,{\"children\":\"Invoice.closed\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"Invoice.forgiven\"}],\", see\\n\",[\"$\",\"a\",null,{\"href\":\"https://stripe.com/docs/billing/migration/invoice-states#upgrade-checklist\",\"children\":\"https://stripe.com/docs/billing/migration/invoice-states#upgrade-checklist\"}]]}],\"\\n\"]}]\n38:[\"$\",\"p\",null,{\"children\":\"Changes from API 2019-02-19:\"}]\n"])</script><script>self.__next_f.push([1,"39:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Major changes to Account fields, see\\n\",[\"$\",\"a\",null,{\"href\":\"https://stripe.com/docs/upgrades#2019-02-19\",\"children\":\"https://stripe.com/docs/upgrades#2019-02-19\"}],\", updated Account\\nfields to match API 2019-02-19:\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Account.business_profile\"}],\", \",[\"$\",\"code\",null,{\"children\":\".business_type\"}],\", \",[\"$\",\"code\",null,{\"children\":\".company\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\".individual\"}],\", \",[\"$\",\"code\",null,{\"children\":\".requirements\"}],\", \",[\"$\",\"code\",null,{\"children\":\".settings\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Deprecated the existing fields, to be removed in 2.2\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Special handling of the icon and logo fields:\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Renamed \",[\"$\",\"code\",null,{\"children\":\"Account.business_logo\"}],\" to \",[\"$\",\"code\",null,{\"children\":\"Account.branding_icon\"}],\"\\n(note that in Stripe's API \",[\"$\",\"code\",null,{\"children\":\"Account.business_logo\"}],\" was renamed\\nto \",[\"$\",\"code\",null,{\"children\":\"Account.settings.branding_icon\"}],\", and\\n\",[\"$\",\"code\",null,{\"children\":\"Account.business_logo_large\"}],\" (which we didn't have a field\\nfor) was renamed to \",[\"$\",\"code\",null,{\"children\":\"Account.settings.branding_logo\"}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added deprecated property for \",[\"$\",\"code\",null,{\"children\":\"Account.business_logo\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Account.branding_logo\"}],\" as a ForeignKey\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Populate \",[\"$\",\"code\",null,{\"children\":\"Account.branding_icon\"}],\" and \",[\"$\",\"code\",null,{\"children\":\".branding_logo\"}],\" from the\\nnew \",[\"$\",\"code\",null,{\"children\":\"Account.settings.branding.icon\"}],\" and \",[\"$\",\"code\",null,{\"children\":\".logo\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"3a:[\"$\",\"p\",null,{\"children\":\"Changes from API 2019-03-14:\"}]\n"])</script><script>self.__next_f.push([1,"3b:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Renamed \",[\"$\",\"code\",null,{\"children\":\"Invoice.application_fee\"}],\" to\\n\",[\"$\",\"code\",null,{\"children\":\"Invoice.application_fee_amount\"}],\" (added deprecated property for the\\nold name)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Removed \",[\"$\",\"code\",null,{\"children\":\"Invoice.date\"}],\", in place of \",[\"$\",\"code\",null,{\"children\":\"Invoice.created\"}],\" (added\\ndeprecated property for the old name)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Invoice.status_transitions\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Renamed \",[\"$\",\"code\",null,{\"children\":\"Customer.account_balance\"}],\" to \",[\"$\",\"code\",null,{\"children\":\"Customer.balance\"}],\" (added\\ndeprecated property for the old name)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Renamed \",[\"$\",\"code\",null,{\"children\":\"Customer.payment_methods\"}],\" to\\n\",[\"$\",\"code\",null,{\"children\":\"Customer.customer_payment_methods\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added new \",[\"$\",\"code\",null,{\"children\":\"SubscriptionStatus.incomplete\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"SubscriptionStatus.incomplete_expired\"}],\" statuses (#974)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Added new \",[\"$\",\"code\",null,{\"children\":\"BalanceTransactionType\"}],\" values (#983)\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"3c:[\"$\",\"h3\",null,{\"children\":\"Squashed dev migrations\"}]\n3d:[\"$\",\"p\",null,{\"children\":[\"As per our \",[\"$\",\"a\",null,{\"href\":\"../CONTRIBUTING.md#django_migration_policy\",\"children\":\"migration policy\"}],\", unreleased migrations on the master\\nbranch have been squashed.\"]}]\n3e:[\"$\",\"p\",null,{\"children\":\"If you have been using the 2.1.0dev branch from master, you'll need to\\nrun the squashed migrations migrations before upgrading to \u003e=2.1.0.\"}]\n3f:[\"$\",\"p\",null,{\"children\":[\"The simplest way to do this is to \",[\"$\",\"code\",null,{\"children\":\"pip install dj-stripe==2.1.0rc0\"}],\" and\\nmigrate, alternatively check out the \",[\"$\",\"code\",null,{\"children\":\"2.1.0rc0\"}],\" git tag.\"]}]\n40:[\"$\",\"h2\",null,{\"children\":\"2.0.5 (2019-09-12)\"}]\n41:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n42:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Avoid stripe==2.36.0 due to regression (#991)\"}],\"\\n\"]}]\n43:[\"$\",\"h2\",null,{\"children\":\"2.0.4 (2019-09-09)\"}]\n44:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n45:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed irreversible migration (#909)\"}],\"\\n\"]}]\n46:[\"$\",\"h2\",null,{\"children\":\"2.0.3 (2019-06-11)\"}]\n47:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n48:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"In \",[\"$\",\"code\",null,{\"children\":\"_get_or_create_from_stripe_object\"}],\", wrap create \",[\"$\",\"code\",null,{\"children\":\"_create_from_stripe_object\"}],\" in\\ntransaction, fixes \",[\"$\",\"code\",null,{\"children\":\"TransactionManagementError\"}],\" on race condition in webhook\\nprocessing (#877, #903).\"]}],\"\\n\"]}]\n49:[\"$\",\"h2\",null,{\"children\":\"2.0.2 (2019-06-09)\"}]\n4a:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n4b:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Don't save event objects if the webhook processing fails (#832).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed IntegrityError when \",[\"$\",\"code\",null,{\"children\":\"REMOTE_ADDR\"}],\" is an empty string.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":["])</script><script>self.__next_f.push([1,"\"Deprecated \",[\"$\",\"code\",null,{\"children\":\"field_name\"}],\" parameter to \",[\"$\",\"code\",null,{\"children\":\"sync_from_stripe_data\"}]]}],\"\\n\"]}]\n4c:[\"$\",\"h2\",null,{\"children\":\"2.0.1 (2019-04-29)\"}]\n4d:[\"$\",\"p\",null,{\"children\":\"This is a bugfix-only version:\"}]\n"])</script><script>self.__next_f.push([1,"4e:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed an error on \",[\"$\",\"code\",null,{\"children\":\"invoiceitem.updated\"}],\" (#848).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Handle test webhook properly in recent versions of Stripe API\\n(#779). At some point 2018 Stripe silently changed the ID used for\\ntest events and \",[\"$\",\"code\",null,{\"children\":\"evt_00000000000000\"}],\" is not used anymore.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed OperationalError seen in migration 0003 on postgres (#850).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Fixed issue with migration 0003 not being unapplied correctly (#882).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed missing \",[\"$\",\"code\",null,{\"children\":\"SubscriptionItem.quantity\"}],\" on metered Plans (#865).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed \",[\"$\",\"code\",null,{\"children\":\"Plan.create()\"}],\" (#870).\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"4f:[\"$\",\"h2\",null,{\"children\":\"2.0.0 (2019-03-01)\"}]\n"])</script><script>self.__next_f.push([1,"50:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"The Python stripe library minimum version is now \",[\"$\",\"code\",null,{\"children\":\"2.3.0\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"PaymentMethod\"}],\" has been renamed to \",[\"$\",\"code\",null,{\"children\":\"DjstripePaymentMethod\"}],\" (#841). An alias remains\\nbut will be removed in the next version.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Dropped support for Django\u003c2.0, Python\u003c3.4.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"stripe_objects\"}],\" module.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"stripe_timestamp\"}],\" field.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"Charge.receipt_number\"}],\" field.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"StripeSource\"}],\" alias for \",[\"$\",\"code\",null,{\"children\":\"Card\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Dropped previously-deprecated \",[\"$\",\"code\",null,{\"children\":\"SubscriptionView\"}],\", \",[\"$\",\"code\",null,{\"children\":\"CancelSubscriptionView\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"CancelSubscriptionForm\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Removed the default value from \",[\"$\",\"code\",null,{\"children\":\"DJSTRIPE_SUBSCRIPTION_REDIRECT\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"All \",[\"$\",\"code\",null,{\"children\":\"stripe_id\"}],\" fields have been renamed \",[\"$\",\"code\",null,{\"children\":\"id\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Charge.source_type\"}],\" has been deprecated. Use \",[\"$\",\"code\",null,{\"children\":\"Charge.source.type\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Charge.source_stripe_id\"}],\" has been deprecated. Use \",[\"$\",\"code\",null,{\"children\":\"Charge.source.id\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"All deprecated Transfer fields (Stripe API 2017-04-06 and older), have been dropped.\\nThis includes \",[\"$\",\"code\",null,{\"children\":\"date\"}],\", \",[\"$\",\"code\",null,{\"children\":\"destination_type\"}],\" (\",[\"$\",\"code\",null,{\"children\":\"type\"}],\"), \",[\"$\",\"code\",null,{\"children\":\"failure_code\"}],\",\\n\",[\"$\",\"code\",null,{\"children\":\"failure_message\"}],\", \",[\"$\",\"code\",null,{\"children\":\"statement_descriptor\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"status\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Fixed IntegrityError when \",[\"$\",\"code\",null,{\"children\":\"REMOTE_ADDR\"}],\" is missing (#640).\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"New models:\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"ApplicationFee\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"ApplicationFeeRefund\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"BalanceTransaction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"CountrySpec\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"ScheduledQuery\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"SubscriptionItem\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"TransferReversal\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"UsageRecord\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"fee\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"fee_details\"}],\" attributes of both the \",[\"$\",\"code\",null,{\"children\":\"Charge\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"Transfer\"}],\" objects\\nare no longer stored in the database. Instead, they access their respective new\\n\",[\"$\",\"code\",null,{\"children\":\"balance_transaction\"}],\" foreign key. Note that \",[\"$\",\"code\",null,{\"children\":\"fee_details\"}],\" has been deprecated on\\nboth models.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"fraudulent\"}],\" attribute on \",[\"$\",\"code\",null,{\"children\":\"Charge\"}],\" is now a property that checks the\\n\",[\"$\",\"code\",null,{\"children\":\"fraud_details\"}],\" field.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Object key validity is now always enforced (#503).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Customer.sources\"}],\" no longer refers to a Card queryset, but to a Source queryset. In\\norder to correctly transition, you should change all your references to\\n\",[\"$\",\"code\",null,{\"children\":\"customer.sources\"}],\" to \",[\"$\",\"code\",null,{\"children\":\"customer.legacy_cards\"}],\" instead. The \",[\"$\",\"code\",null,{\"children\":\"legacy_cards\"}],\" attribute\\nalready exists in 1.2.0.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Customer.sources_v3\"}],\" is now named \",\"$L56\",\".\"]}],\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"51:[\"$\",\"code\",null,{\"children\":\"customer.subscription.deleted\"}]\n52:[\"$\",\"code\",null,{\"children\":\"status=\\\"canceled\\\"\"}]\n53:[\"$\",\"li\",null,{\"children\":[\"Added missing \",[\"$\",\"code\",null,{\"children\":\"Refund.reason\"}],\" value, increases field width (#1075).\"]}]\n54:[\"$\",\"li\",null,{\"children\":[\"Fixed \",[\"$\",\"code\",null,{\"children\":\"Refund.status\"}],\" definition, reduces field width (#1076).\"]}]\n55:[\"$\",\"li\",null,{\"children\":[\"Deprecated non-standard \",[\"$\",\"code\",null,{\"children\":\"Invoice.status\"}],\" (renamed to\\n\",[\"$\",\"code\",null,{\"children\":\"Invoice.legacy_status\"}],\") to make way for the Stripe field\\n(preparation for #1020).\"]}]\n56:[\"$\",\"code\",null,{\"children\":\"Customer.sources\"}]\n57:[\"$\",\"li\",null,{\"children\":[\"A new property \",[\"$\",\"code\",null,{\"children\":\"Customer.payment_methods\"}],\" is now available, which allows you to\\niterate over all of a customer's payment methods (sources then cards).\"]}]\n58:[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Card.customer\"}],\" is now nullable and cards are no longer deleted when their\\ncorresponding customer is deleted (#654).\"]}]\n59:[\"$\",\"li\",null,{\"children\":[\"Webhook signature verification is now available and is preferred. Set the\\n\",[\"$\",\"code\",null,{\"children\":\"DJSTRIPE_WEBHOOK_SECRET\"}],\" setting to your secret to start using it.\"]}]\n5a:[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"StripeObject\"}],\" has been renamed \",[\"$\",\"code\",null,{\"children\":\"StripeModel\"}],\". An alias remains but will be removed\\nin the next version.\"]}]\n5b:[\"$\",\"li\",null,{\"children\":[\"The metadata key used in the \",[\"$\",\"code\",null,{\"children\":\"Customer\"}],\" object can now be configured by changing the\\n\",[\"$\",\"code\",null,{\"children\":\"DJSTRIPE_SUBSCRIBER_CUSTOMER_KEY\"}],\" setting. Setting this to None or an empty string\\nnow also disables the behaviour altogether.\"]}]\n5c:[\"$\",\"li\",null,{\"children\":\"Text-type fields in dj-stripe will no longer ever be None. Instead, any falsy text\\nfield will return an empty string.\"}]\n5d:[\"$\",\"li\",null,{\"children\":\"Switched test runne"])</script><script>self.__next_f.push([1,"r to pytest-django\"}]\n5e:[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"StripeModel.sync_from_stripe_data()\"}],\" will now automatically retrieve related\\nobjects and populate foreign keys (#681)\"]}]\n5f:[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Coupon.name\"}]]}]\n60:[\"$\",\"li\",null,{\"children\":[\"Added \",[\"$\",\"code\",null,{\"children\":\"Transfer.balance_transaction\"}]]}]\n61:[\"$\",\"li\",null,{\"children\":\"Exceptions in webhooks are now re-raised as well as saved in the database (#833)\"}]\n"])</script></body></html>