<!DOCTYPE html><!--tWkvlCzbLasc_ipzo619l--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/2ff57a8dc1dd022b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/9065abaa731c6600.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-08309892bbe354a2.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-69097a61540f27b4.js" async=""></script><script src="/_next/static/chunks/main-app-b0c2b1956eab1d69.js" async=""></script><script src="/_next/static/chunks/app/layout-e2df609ea3d3ba96.js" async=""></script><script src="/_next/static/chunks/244-75f77586f1edfee3.js" async=""></script><script src="/_next/static/chunks/105-9c71a7be9e3657b0.js" async=""></script><script src="/_next/static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js" async=""></script><meta name="next-size-adjust" content=""/><title>dj-stripe - Stripe Made Easy for Django Developers</title><meta name="description" content="The easiest way to integrate Stripe with your Django project. Handle payments, subscriptions, and webhooks with just a few lines of code."/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-white dark:bg-gray-900"><header class="border-b border-gray-200 dark:border-gray-800 sticky top-0 bg-white dark:bg-gray-900 z-10"><nav class="container mx-auto px-6 py-4 flex items-center justify-between"><a class="text-2xl font-bold" href="/">dj-<span class="text-stripe-blurple">stripe</span></a><div class="flex gap-6 items-center"><a class="hover:text-blue-600 transition-colors" href="/about/">About</a><a class="text-blue-600 font-semibold" href="/docs/latest/">Documentation</a><a class="hover:text-blue-600 transition-colors" href="/sponsors/">Sponsors</a><a class="hover:text-blue-600 transition-colors" href="/team/">Team</a><a class="hover:text-blue-600 transition-colors" href="/support/">Support</a><a href="https://github.com/dj-stripe/dj-stripe" class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300" target="_blank" rel="noopener noreferrer"><i class="fab fa-github text-xl"></i><div class="flex flex-col"><span class="text-sm font-medium">dj-stripe</span><div class="flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400"><span>Loading...</span></div></div></a><select class="px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800"><option value="dev" selected="">vdev</option></select><div class="relative"><button class="flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><span>Search</span><kbd class="hidden sm:inline-block px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 rounded">âŒ˜K</kbd></button></div><button class="group relative p-2.5 rounded-full hover:bg-gray-100/80 dark:hover:bg-gray-800/80 transition-all duration-200 hover:scale-105 active:scale-95" aria-label="Switch to dark mode"><div class="absolute inset-0 rounded-full bg-gradient-to-br from-yellow-200/20 to-orange-300/20 dark:from-purple-400/20 dark:to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div><div class="relative transition-all duration-300 "><div class="relative w-5 h-5"><svg class="w-full h-full text-amber-500 transition-all duration-300 drop-shadow-sm" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" class="animate-pulse"></circle><g class="animate-spin" style="transform-origin:12px 12px;animation-duration:8s"><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></g></svg></div></div><div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 text-xs text-white bg-gray-900 dark:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">Switch to <!-- -->dark<!-- --> mode</div></button></div></nav></header><div class="container mx-auto px-6 py-8"><div class="flex gap-8"><aside class="w-64 flex-shrink-0"><nav class="sticky top-24"><h3 class="font-semibold mb-4">Documentation</h3><ul class="space-y-2"><li><a class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors " href="/docs/dev/">Getting Started</a><ul class="ml-4 mt-2 space-y-1"><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/installation/">Installation</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/api_keys/">API Keys</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/api_versions/">API Versions</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/upgrade_dj_stripe/">Upgrade Guide</a></li></ul></li><li><a class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors " href="/docs/dev/usage/">Usage</a><ul class="ml-4 mt-2 space-y-1"><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/webhooks/">Webhooks</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/subscribing_customers/">Subscribing Customers</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/add_payment_method_to_customer/">Payment Methods</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/managing_subscriptions/">Managing Subscriptions</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400" href="/docs/dev/usage/using_stripe_checkout/">Stripe Checkout</a></li><li><a class="block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors bg-blue-50 dark:bg-blue-900/20 text-blue-600" href="/docs/dev/usage/manually_syncing_with_stripe/">Manual Syncing</a></li></ul></li></ul></nav></aside><main class="flex-1 max-w-4xl"><article class="prose prose-lg dark:prose-invert max-w-none"><h1>Manually syncing data with Stripe</h1>
<p>If you&#x27;re using dj-stripe&#x27;s webhook handlers then data will be
automatically synced from Stripe to the Django database, but in some
circumstances you may want to manually sync Stripe API data as well.</p>
<h2>Command line</h2>
<p>You can sync your database with stripe using the management command
[<code>djstripe_sync_models</code>][djstripe.management.commands.djstripe_sync_models], e.g. to populate an empty database from an
existing Stripe account.</p>
<pre><code class="hljs language-bash">
    ./manage.py djstripe_sync_models
</code></pre>
<p>With no arguments this will sync all supported models for all in database API Keys, or a list of
models to sync can also be provided.</p>
<pre><code class="hljs language-bash">    ./manage.py djstripe_sync_models Invoice Subscription
</code></pre>
<p>Note that this may be redundant since we recursively sync related
objects.</p>
<p>A list of models to sync can also be provided along with the API Keys.</p>
<pre><code class="hljs language-bash">    ./manage.py djstripe_sync_models Invoice Subscription --api-keys sk_test_XXX sk_test_YYY
</code></pre>
<p>This will sync all the Invoice and Subscription data for the given API Keys. Please note that the API Keys sk_test_YYY and sk_test_XXX need to be in the database.</p>
<p>You can manually reprocess events using the management commands
[<code>djstripe_process_events</code>][djstripe.management.commands.djstripe_process_events]. By default this processes all events, but
options can be passed to limit the events processed. Note the Stripe API
documents a limitation where events are only guaranteed to be available
for 30 days.</p>
<pre><code class="hljs language-bash">    <span class="hljs-comment"># all events</span>
    ./manage.py djstripe_process_events
    <span class="hljs-comment"># failed events (events with pending webhooks or where all webhook delivery attempts failed)</span>
    ./manage.py djstripe_process_events --failed
    <span class="hljs-comment"># filter by event type (all payment_intent events in this example)</span>
    ./manage.py djstripe_process_events --<span class="hljs-built_in">type</span> payment_intent.*
    <span class="hljs-comment"># specific events by ID</span>
    ./manage.py djstripe_process_events --ids evt_foo evt_bar
    <span class="hljs-comment"># more output for debugging processing failures</span>
    ./manage.py djstripe_process_events -v 2
</code></pre>
<h2>In Code</h2>
<p>To sync in code, for example if you write to the Stripe API and want to
work with the resulting dj-stripe object without having to wait for the
webhook trigger.</p>
<p>This can be done using the classmethod [<code>sync_from_stripe_data</code>][djstripe.models.base.StripeModel.sync_from_stripe_data] that
exists on all dj-stripe model classes.</p>
<p>E.g. creating a product using the Stripe API, and then syncing the API
return data to Django using dj-stripe:</p></article></main></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-08309892bbe354a2.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1483,[\"177\",\"static/chunks/app/layout-e2df609ea3d3ba96.js\"],\"ThemeProvider\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/2ff57a8dc1dd022b.css\",\"style\"]\n:HL[\"/_next/static/css/9065abaa731c6600.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"tWkvlCzbLasc-ipzo619l\",\"p\":\"\",\"c\":[\"\",\"docs\",\"dev\",\"usage\",\"manually_syncing_with_stripe\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"version\",\"dev\",\"d\"],{\"children\":[[\"slug\",\"usage/manually_syncing_with_stripe\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2ff57a8dc1dd022b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/9065abaa731c6600.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"defaultTheme\":\"system\",\"storageKey\":\"dj-stripe-theme\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"version\",\"dev\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"usage/manually_syncing_with_stripe\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"dj-stripe - Stripe Made Easy for Django Developers\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"The easiest way to integrate Stripe with your Django project. Handle payments, subscriptions, and webhooks with just a few lines of code.\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[6105,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-9c71a7be9e3657b0.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"Navigation\"]\n11:I[6690,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-9c71a7be9e3657b0.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"VersionSelector\"]\n12:I[6874,[\"244\",\"static/chunks/244-75f77586f1edfee3.js\",\"105\",\"static/chunks/105-9c71a7be9e3657b0.js\",\"967\",\"static/chunks/app/docs/%5Bversion%5D/%5B%5B...slug%5D%5D/page-3887ad97704d0fd7.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-white dark:bg-gray-900\",\"children\":[[\"$\",\"$L10\",null,{\"className\":\"sticky top-0 bg-white dark:bg-gray-900 z-10\",\"children\":[\"$\",\"$L11\",null,{\"currentVersion\":\"dev\",\"versions\":[\"dev\"],\"currentPath\":\"usage/manually_syncing_with_stripe\"}]}],[\"$\",\"div\",null,{\"className\":\"container mx-auto px-6 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"w-64 flex-shrink-0\",\"children\":[\"$\",\"nav\",null,{\"className\":\"sticky top-24\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold mb-4\",\"children\":\"Documentation\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"li\",\"\",{\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/docs/dev\",\"className\":\"block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors \",\"children\":\"Getting Started\"}],[\"$\",\"ul\",null,{\"className\":\"ml-4 mt-2 space-y-1\",\"children\":[[\"$\",\"li\",\"/installation\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/installation\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Installation\"}]}],[\"$\",\"li\",\"/api_keys\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/api_keys\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"API Keys\"}]}],[\"$\",\"li\",\"/api_versions\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/api_versions\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"API Versions\"}]}],[\"$\",\"li\",\"/upgrade_dj_stripe\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/upgrade_dj_stripe\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Upgrade Guide\"}]}]]}]]}],[\"$\",\"li\",\"/usage\",{\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage\",\"className\":\"block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors \",\"children\":\"Usage\"}],[\"$\",\"ul\",null,{\"className\":\"ml-4 mt-2 space-y-1\",\"children\":[[\"$\",\"li\",\"/usage/webhooks\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/webhooks\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Webhooks\"}]}],[\"$\",\"li\",\"/usage/subscribing_customers\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/subscribing_customers\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Subscribing Customers\"}]}],[\"$\",\"li\",\"/usage/add_payment_method_to_customer\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/add_payment_method_to_customer\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Payment Methods\"}]}],[\"$\",\"li\",\"/usage/managing_subscriptions\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/managing_subscriptions\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Managing Subscriptions\"}]}],[\"$\",\"li\",\"/usage/using_stripe_checkout\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/using_stripe_checkout\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400\",\"children\":\"Stripe Checkout\"}]}],[\"$\",\"li\",\"/usage/manually_syncing_with_stripe\",{\"children\":[\"$\",\"$L12\",null,{\"href\":\"/docs/dev/usage/manually_syncing_with_stripe\",\"className\":\"block px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors bg-blue-50 dark:bg-blue-900/20 text-blue-600\",\"children\":\"Manual Syncing\"}]}]]}]]}]]}]]}]}],\"$L13\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"main\",null,{\"className\":\"flex-1 max-w-4xl\",\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none\",\"children\":\"$L14\"}]}]\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"h1\",null,{\"children\":\"Manually syncing data with Stripe\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If you're using dj-stripe's webhook handlers then data will be\\nautomatically synced from Stripe to the Django database, but in some\\ncircumstances you may want to manually sync Stripe API data as well.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Command line\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You can sync your database with stripe using the management command\\n[\",[\"$\",\"code\",null,{\"children\":\"djstripe_sync_models\"}],\"][djstripe.management.commands.djstripe_sync_models], e.g. to populate an empty database from an\\nexisting Stripe account.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"\\n    ./manage.py djstripe_sync_models\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With no arguments this will sync all supported models for all in database API Keys, or a list of\\nmodels to sync can also be provided.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"    ./manage.py djstripe_sync_models Invoice Subscription\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Note that this may be redundant since we recursively sync related\\nobjects.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"A list of models to sync can also be provided along with the API Keys.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"    ./manage.py djstripe_sync_models Invoice Subscription --api-keys sk_test_XXX sk_test_YYY\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This will sync all the Invoice and Subscription data for the given API Keys. Please note that the API Keys sk_test_YYY and sk_test_XXX need to be in the database.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You can manually reprocess events using the management commands\\n[\",[\"$\",\"code\",null,{\"children\":\"djstripe_process_events\"}],\"][djstripe.management.commands.djstripe_process_events]. By default this processes all events, but\\noptions can be passed to limit the events processed. Note the Stripe API\\ndocuments a limitation where events are only guaranteed to be available\\nfor 30 days.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# all events\"}],\"\\n    ./manage.py djstripe_process_events\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# failed events (events with pending webhooks or where all webhook delivery attempts failed)\"}],\"\\n    ./manage.py djstripe_process_events --failed\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# filter by event type (all payment_intent events in this example)\"}],\"\\n    ./manage.py djstripe_process_events --\",[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"type\"}],\" payment_intent.*\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# specific events by ID\"}],\"\\n    ./manage.py djstripe_process_events --ids evt_foo evt_bar\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# more output for debugging processing failures\"}],\"\\n    ./manage.py djstripe_process_events -v 2\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"In Code\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To sync in code, for example if you write to the Stripe API and want to\\nwork with the resulting dj-stripe object without having to wait for the\\nwebhook trigger.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This can be done using the classmethod [\",[\"$\",\"code\",null,{\"children\":\"sync_from_stripe_data\"}],\"][djstripe.models.base.StripeModel.sync_from_stripe_data] that\\nexists on all dj-stripe model classes.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"E.g. creating a product using the Stripe API, and then syncing the API\\nreturn data to Django using dj-stripe:\"}]]\n"])</script></body></html>